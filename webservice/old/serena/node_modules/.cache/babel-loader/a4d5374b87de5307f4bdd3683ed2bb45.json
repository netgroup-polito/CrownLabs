{"ast":null,"code":"var common = require('./common');\n\nvar _cd = require('./cd');\n\nvar path = require('path');\n\ncommon.register('dirs', _dirs, {\n  wrapOutput: false\n});\ncommon.register('pushd', _pushd, {\n  wrapOutput: false\n});\ncommon.register('popd', _popd, {\n  wrapOutput: false\n}); // Pushd/popd/dirs internals\n\nvar _dirStack = [];\n\nfunction _isStackIndex(index) {\n  return /^[\\-+]\\d+$/.test(index);\n}\n\nfunction _parseStackIndex(index) {\n  if (_isStackIndex(index)) {\n    if (Math.abs(index) < _dirStack.length + 1) {\n      // +1 for pwd\n      return /^-/.test(index) ? Number(index) - 1 : Number(index);\n    }\n\n    common.error(index + ': directory stack index out of range');\n  } else {\n    common.error(index + ': invalid number');\n  }\n}\n\nfunction _actualDirStack() {\n  return [process.cwd()].concat(_dirStack);\n} //@\n//@ ### pushd([options,] [dir | '-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppresses the normal change of directory when adding directories to the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `dir`: Sets the current working directory to the top of the stack, then executes the equivalent of `cd dir`.\n//@ + `+N`: Brings the Nth directory (counting from the left of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@ + `-N`: Brings the Nth directory (counting from the right of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ // process.cwd() === '/usr'\n//@ pushd('/etc'); // Returns /etc /usr\n//@ pushd('+1');   // Returns /usr /etc\n//@ ```\n//@\n//@ Save the current directory on the top of the directory stack and then `cd` to `dir`. With no arguments, `pushd` exchanges the top two directories. Returns an array of paths in the stack.\n\n\nfunction _pushd(options, dir) {\n  if (_isStackIndex(options)) {\n    dir = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet'\n  });\n\n  var dirs = _actualDirStack();\n\n  if (dir === '+0') {\n    return dirs; // +0 is a noop\n  } else if (!dir) {\n    if (dirs.length > 1) {\n      dirs = dirs.splice(1, 1).concat(dirs);\n    } else {\n      return common.error('no other directory');\n    }\n  } else if (_isStackIndex(dir)) {\n    var n = _parseStackIndex(dir);\n\n    dirs = dirs.slice(n).concat(dirs.slice(0, n));\n  } else {\n    if (options['no-cd']) {\n      dirs.splice(1, 0, dir);\n    } else {\n      dirs.unshift(dir);\n    }\n  }\n\n  if (options['no-cd']) {\n    dirs = dirs.slice(1);\n  } else {\n    dir = path.resolve(dirs.shift());\n\n    _cd('', dir);\n  }\n\n  _dirStack = dirs;\n  return _dirs(options.quiet ? '-q' : '');\n}\n\nexports.pushd = _pushd; //@\n//@\n//@ ### popd([options,] ['-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppress the normal directory change when removing directories from the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Removes the Nth directory (counting from the left of the list printed by dirs), starting with zero.\n//@ + `-N`: Removes the Nth directory (counting from the right of the list printed by dirs), starting with zero.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ echo(process.cwd()); // '/usr'\n//@ pushd('/etc');       // '/etc /usr'\n//@ echo(process.cwd()); // '/etc'\n//@ popd();              // '/usr'\n//@ echo(process.cwd()); // '/usr'\n//@ ```\n//@\n//@ When no arguments are given, `popd` removes the top directory from the stack and performs a `cd` to the new top directory. The elements are numbered from 0, starting at the first directory listed with dirs (i.e., `popd` is equivalent to `popd +0`). Returns an array of paths in the stack.\n\nfunction _popd(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet'\n  });\n\n  if (!_dirStack.length) {\n    return common.error('directory stack empty');\n  }\n\n  index = _parseStackIndex(index || '+0');\n\n  if (options['no-cd'] || index > 0 || _dirStack.length + index === 0) {\n    index = index > 0 ? index - 1 : index;\n\n    _dirStack.splice(index, 1);\n  } else {\n    var dir = path.resolve(_dirStack.shift());\n\n    _cd('', dir);\n  }\n\n  return _dirs(options.quiet ? '-q' : '');\n}\n\nexports.popd = _popd; //@\n//@\n//@ ### dirs([options | '+N' | '-N'])\n//@\n//@ Available options:\n//@\n//@ + `-c`: Clears the directory stack by deleting all of the elements.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Displays the Nth directory (counting from the left of the list printed by dirs when invoked without options), starting with zero.\n//@ + `-N`: Displays the Nth directory (counting from the right of the list printed by dirs when invoked without options), starting with zero.\n//@\n//@ Display the list of currently remembered directories. Returns an array of paths in the stack, or a single path if `+N` or `-N` was specified.\n//@\n//@ See also: `pushd`, `popd`\n\nfunction _dirs(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'c': 'clear',\n    'q': 'quiet'\n  });\n\n  if (options.clear) {\n    _dirStack = [];\n    return _dirStack;\n  }\n\n  var stack = _actualDirStack();\n\n  if (index) {\n    index = _parseStackIndex(index);\n\n    if (index < 0) {\n      index = stack.length + index;\n    }\n\n    if (!options.quiet) {\n      common.log(stack[index]);\n    }\n\n    return stack[index];\n  }\n\n  if (!options.quiet) {\n    common.log(stack.join(' '));\n  }\n\n  return stack;\n}\n\nexports.dirs = _dirs;","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/shelljs/src/dirs.js"],"names":["common","require","_cd","path","register","_dirs","wrapOutput","_pushd","_popd","_dirStack","_isStackIndex","index","test","_parseStackIndex","Math","abs","length","Number","error","_actualDirStack","process","cwd","concat","options","dir","parseOptions","dirs","splice","n","slice","unshift","resolve","shift","quiet","exports","pushd","popd","clear","stack","log","join"],"mappings":"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","sourcesContent":["var common = require('./common');\nvar _cd = require('./cd');\nvar path = require('path');\n\ncommon.register('dirs', _dirs, {\n  wrapOutput: false,\n});\ncommon.register('pushd', _pushd, {\n  wrapOutput: false,\n});\ncommon.register('popd', _popd, {\n  wrapOutput: false,\n});\n\n// Pushd/popd/dirs internals\nvar _dirStack = [];\n\nfunction _isStackIndex(index) {\n  return (/^[\\-+]\\d+$/).test(index);\n}\n\nfunction _parseStackIndex(index) {\n  if (_isStackIndex(index)) {\n    if (Math.abs(index) < _dirStack.length + 1) { // +1 for pwd\n      return (/^-/).test(index) ? Number(index) - 1 : Number(index);\n    }\n    common.error(index + ': directory stack index out of range');\n  } else {\n    common.error(index + ': invalid number');\n  }\n}\n\nfunction _actualDirStack() {\n  return [process.cwd()].concat(_dirStack);\n}\n\n//@\n//@ ### pushd([options,] [dir | '-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppresses the normal change of directory when adding directories to the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `dir`: Sets the current working directory to the top of the stack, then executes the equivalent of `cd dir`.\n//@ + `+N`: Brings the Nth directory (counting from the left of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@ + `-N`: Brings the Nth directory (counting from the right of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ // process.cwd() === '/usr'\n//@ pushd('/etc'); // Returns /etc /usr\n//@ pushd('+1');   // Returns /usr /etc\n//@ ```\n//@\n//@ Save the current directory on the top of the directory stack and then `cd` to `dir`. With no arguments, `pushd` exchanges the top two directories. Returns an array of paths in the stack.\nfunction _pushd(options, dir) {\n  if (_isStackIndex(options)) {\n    dir = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet',\n  });\n\n  var dirs = _actualDirStack();\n\n  if (dir === '+0') {\n    return dirs; // +0 is a noop\n  } else if (!dir) {\n    if (dirs.length > 1) {\n      dirs = dirs.splice(1, 1).concat(dirs);\n    } else {\n      return common.error('no other directory');\n    }\n  } else if (_isStackIndex(dir)) {\n    var n = _parseStackIndex(dir);\n    dirs = dirs.slice(n).concat(dirs.slice(0, n));\n  } else {\n    if (options['no-cd']) {\n      dirs.splice(1, 0, dir);\n    } else {\n      dirs.unshift(dir);\n    }\n  }\n\n  if (options['no-cd']) {\n    dirs = dirs.slice(1);\n  } else {\n    dir = path.resolve(dirs.shift());\n    _cd('', dir);\n  }\n\n  _dirStack = dirs;\n  return _dirs(options.quiet ? '-q' : '');\n}\nexports.pushd = _pushd;\n\n//@\n//@\n//@ ### popd([options,] ['-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppress the normal directory change when removing directories from the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Removes the Nth directory (counting from the left of the list printed by dirs), starting with zero.\n//@ + `-N`: Removes the Nth directory (counting from the right of the list printed by dirs), starting with zero.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ echo(process.cwd()); // '/usr'\n//@ pushd('/etc');       // '/etc /usr'\n//@ echo(process.cwd()); // '/etc'\n//@ popd();              // '/usr'\n//@ echo(process.cwd()); // '/usr'\n//@ ```\n//@\n//@ When no arguments are given, `popd` removes the top directory from the stack and performs a `cd` to the new top directory. The elements are numbered from 0, starting at the first directory listed with dirs (i.e., `popd` is equivalent to `popd +0`). Returns an array of paths in the stack.\nfunction _popd(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet',\n  });\n\n  if (!_dirStack.length) {\n    return common.error('directory stack empty');\n  }\n\n  index = _parseStackIndex(index || '+0');\n\n  if (options['no-cd'] || index > 0 || _dirStack.length + index === 0) {\n    index = index > 0 ? index - 1 : index;\n    _dirStack.splice(index, 1);\n  } else {\n    var dir = path.resolve(_dirStack.shift());\n    _cd('', dir);\n  }\n\n  return _dirs(options.quiet ? '-q' : '');\n}\nexports.popd = _popd;\n\n//@\n//@\n//@ ### dirs([options | '+N' | '-N'])\n//@\n//@ Available options:\n//@\n//@ + `-c`: Clears the directory stack by deleting all of the elements.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Displays the Nth directory (counting from the left of the list printed by dirs when invoked without options), starting with zero.\n//@ + `-N`: Displays the Nth directory (counting from the right of the list printed by dirs when invoked without options), starting with zero.\n//@\n//@ Display the list of currently remembered directories. Returns an array of paths in the stack, or a single path if `+N` or `-N` was specified.\n//@\n//@ See also: `pushd`, `popd`\nfunction _dirs(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'c': 'clear',\n    'q': 'quiet',\n  });\n\n  if (options.clear) {\n    _dirStack = [];\n    return _dirStack;\n  }\n\n  var stack = _actualDirStack();\n\n  if (index) {\n    index = _parseStackIndex(index);\n\n    if (index < 0) {\n      index = stack.length + index;\n    }\n\n    if (!options.quiet) {\n      common.log(stack[index]);\n    }\n    return stack[index];\n  }\n\n  if (!options.quiet) {\n    common.log(stack.join(' '));\n  }\n\n  return stack;\n}\nexports.dirs = _dirs;\n"]},"metadata":{},"sourceType":"script"}