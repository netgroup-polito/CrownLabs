{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport styles from 'dom-helpers/css';\nimport transitionEnd from 'dom-helpers/transitionEnd';\nimport React, { cloneElement } from 'react';\nimport { uncontrollable } from 'uncontrollable';\nimport CarouselCaption from './CarouselCaption';\nimport CarouselItem from './CarouselItem';\nimport { forEach, map } from './ElementChildren';\nimport SafeAnchor from './SafeAnchor';\nimport { createBootstrapComponent } from './ThemeProvider';\nimport triggerBrowserReflow from './triggerBrowserReflow';\n\nvar countChildren = function countChildren(c) {\n  return React.Children.toArray(c).filter(React.isValidElement).length;\n};\n\nvar SWIPE_THRESHOLD = 40; // TODO: `slide` should be `animate`.\n\nvar defaultProps = {\n  slide: true,\n  fade: false,\n  interval: 5000,\n  keyboard: true,\n  pauseOnHover: true,\n  wrap: true,\n  indicators: true,\n  controls: true,\n  activeIndex: 0,\n  prevIcon: React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-prev-icon\"\n  }),\n  prevLabel: 'Previous',\n  nextIcon: React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-next-icon\"\n  }),\n  nextLabel: 'Next',\n  touch: true\n};\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Carousel, _React$Component);\n\n  function Carousel() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      prevClasses: '',\n      currentClasses: 'active',\n      touchStartX: 0\n    };\n    _this.isUnmounted = false;\n    _this.carousel = React.createRef();\n\n    _this.handleTouchStart = function (e) {\n      _this.setState({\n        touchStartX: e.changedTouches[0].screenX\n      });\n    };\n\n    _this.handleTouchEnd = function (e) {\n      // If the swipe is under the threshold, don't do anything.\n      if (Math.abs(e.changedTouches[0].screenX - _this.state.touchStartX) < SWIPE_THRESHOLD) return;\n\n      if (e.changedTouches[0].screenX < _this.state.touchStartX) {\n        // Swiping left to navigate to next item.\n        _this.handleNext(e);\n      } else {\n        // Swiping right to navigate to previous item.\n        _this.handlePrev(e);\n      }\n    };\n\n    _this.handleSlideEnd = function () {\n      var pendingIndex = _this._pendingIndex;\n      _this._isSliding = false;\n      _this._pendingIndex = null;\n      if (pendingIndex != null) _this.to(pendingIndex);else _this.cycle();\n    };\n\n    _this.handleMouseOut = function () {\n      _this.cycle();\n    };\n\n    _this.handleMouseOver = function () {\n      if (_this.props.pauseOnHover) _this.pause();\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (/input|textarea/i.test(event.target.tagName)) return;\n\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n\n          _this.handlePrev(event);\n\n          break;\n\n        case 'ArrowRight':\n          event.preventDefault();\n\n          _this.handleNext(event);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.handleNextWhenVisible = function () {\n      if (!_this.isUnmounted && !document.hidden && styles(_this.carousel.current, 'visibility') !== 'hidden') {\n        _this.handleNext();\n      }\n    };\n\n    _this.handleNext = function (e) {\n      if (_this._isSliding) return;\n      var _this$props = _this.props,\n          wrap = _this$props.wrap,\n          activeIndex = _this$props.activeIndex;\n      var index = activeIndex + 1;\n      var count = countChildren(_this.props.children);\n\n      if (index > count - 1) {\n        if (!wrap) return;\n        index = 0;\n      }\n\n      _this.select(index, e, 'next');\n    };\n\n    _this.handlePrev = function (e) {\n      if (_this._isSliding) return;\n      var _this$props2 = _this.props,\n          wrap = _this$props2.wrap,\n          activeIndex = _this$props2.activeIndex;\n      var index = activeIndex - 1;\n\n      if (index < 0) {\n        if (!wrap) return;\n        index = countChildren(_this.props.children) - 1;\n      }\n\n      _this.select(index, e, 'prev');\n    };\n\n    return _this;\n  }\n\n  var _proto = Carousel.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.cycle();\n  };\n\n  Carousel.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var previousActiveIndex = _ref.activeIndex;\n\n    if (nextProps.activeIndex !== previousActiveIndex) {\n      var lastPossibleIndex = countChildren(nextProps.children) - 1;\n      var nextIndex = Math.max(0, Math.min(nextProps.activeIndex, lastPossibleIndex));\n      var direction;\n\n      if (nextIndex === 0 && previousActiveIndex >= lastPossibleIndex || previousActiveIndex <= nextIndex) {\n        direction = 'next';\n      } else {\n        direction = 'prev';\n      }\n\n      return {\n        direction: direction,\n        previousActiveIndex: previousActiveIndex,\n        activeIndex: nextIndex\n      };\n    }\n\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        bsPrefix = _this$props3.bsPrefix,\n        slide = _this$props3.slide,\n        onSlideEnd = _this$props3.onSlideEnd;\n    if (!slide || this.state.activeIndex === prevState.activeIndex || this._isSliding) return;\n    var _this$state = this.state,\n        activeIndex = _this$state.activeIndex,\n        direction = _this$state.direction;\n    var orderClassName, directionalClassName;\n\n    if (direction === 'next') {\n      orderClassName = bsPrefix + \"-item-next\";\n      directionalClassName = bsPrefix + \"-item-left\";\n    } else if (direction === 'prev') {\n      orderClassName = bsPrefix + \"-item-prev\";\n      directionalClassName = bsPrefix + \"-item-right\";\n    }\n\n    this._isSliding = true;\n    this.pause(); // eslint-disable-next-line react/no-did-update-set-state\n\n    this.safeSetState({\n      prevClasses: 'active',\n      currentClasses: orderClassName\n    }, function () {\n      var items = _this2.carousel.current.children;\n      var nextElement = items[activeIndex];\n      triggerBrowserReflow(nextElement);\n\n      _this2.safeSetState({\n        prevClasses: classNames('active', directionalClassName),\n        currentClasses: classNames(orderClassName, directionalClassName)\n      }, function () {\n        return transitionEnd(nextElement, function () {\n          _this2.safeSetState({\n            prevClasses: '',\n            currentClasses: 'active'\n          }, _this2.handleSlideEnd);\n\n          if (onSlideEnd) {\n            onSlideEnd();\n          }\n        });\n      });\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.timeout);\n    this.isUnmounted = true;\n  };\n\n  _proto.safeSetState = function safeSetState(state, cb) {\n    var _this3 = this;\n\n    if (this.isUnmounted) return;\n    this.setState(state, function () {\n      return !_this3.isUnmounted && cb();\n    });\n  } // This might be a public API.\n  ;\n\n  _proto.pause = function pause() {\n    this._isPaused = true;\n    clearInterval(this._interval);\n    this._interval = null;\n  };\n\n  _proto.cycle = function cycle() {\n    this._isPaused = false;\n    clearInterval(this._interval);\n    this._interval = null;\n\n    if (this.props.interval && !this._isPaused) {\n      this._interval = setInterval(document.visibilityState ? this.handleNextWhenVisible : this.handleNext, this.props.interval);\n    }\n  };\n\n  _proto.to = function to(index, event) {\n    var children = this.props.children;\n\n    if (index < 0 || index > countChildren(children) - 1) {\n      return;\n    }\n\n    if (this._isSliding) {\n      this._pendingIndex = index;\n      return;\n    }\n\n    this.select(index, event);\n  };\n\n  _proto.select = function select(index, event, direction) {\n    var _this4 = this;\n\n    clearTimeout(this.selectThrottle);\n    if (event && event.persist) event.persist(); // The timeout throttles fast clicks, in order to give any pending state\n    // a chance to update and propagate back through props\n\n    this.selectThrottle = setTimeout(function () {\n      clearTimeout(_this4.timeout);\n      var _this4$props = _this4.props,\n          activeIndex = _this4$props.activeIndex,\n          onSelect = _this4$props.onSelect;\n      if (index === activeIndex || _this4._isSliding || _this4.isUnmounted) return;\n      onSelect(index, direction || (index < activeIndex ? 'prev' : 'next'), event);\n    }, 50);\n  };\n\n  _proto.renderControls = function renderControls(properties) {\n    var bsPrefix = this.props.bsPrefix;\n    var wrap = properties.wrap,\n        children = properties.children,\n        activeIndex = properties.activeIndex,\n        prevIcon = properties.prevIcon,\n        nextIcon = properties.nextIcon,\n        prevLabel = properties.prevLabel,\n        nextLabel = properties.nextLabel;\n    var count = countChildren(children);\n    return [(wrap || activeIndex !== 0) && React.createElement(SafeAnchor, {\n      key: \"prev\",\n      className: bsPrefix + \"-control-prev\",\n      onClick: this.handlePrev\n    }, prevIcon, prevLabel && React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, prevLabel)), (wrap || activeIndex !== count - 1) && React.createElement(SafeAnchor, {\n      key: \"next\",\n      className: bsPrefix + \"-control-next\",\n      onClick: this.handleNext\n    }, nextIcon, nextLabel && React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, nextLabel))];\n  };\n\n  _proto.renderIndicators = function renderIndicators(children, activeIndex) {\n    var _this5 = this;\n\n    var bsPrefix = this.props.bsPrefix;\n    var indicators = [];\n    forEach(children, function (child, index) {\n      indicators.push(React.createElement(\"li\", {\n        key: index,\n        className: index === activeIndex ? 'active' : null,\n        onClick: function onClick(e) {\n          return _this5.to(index, e);\n        }\n      }), // Force whitespace between indicator elements. Bootstrap requires\n      // this for correct spacing of elements.\n      ' ');\n    });\n    return React.createElement(\"ol\", {\n      className: bsPrefix + \"-indicators\"\n    }, indicators);\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        _this$props4$as = _this$props4.as,\n        Component = _this$props4$as === void 0 ? 'div' : _this$props4$as,\n        bsPrefix = _this$props4.bsPrefix,\n        slide = _this$props4.slide,\n        fade = _this$props4.fade,\n        indicators = _this$props4.indicators,\n        controls = _this$props4.controls,\n        wrap = _this$props4.wrap,\n        touch = _this$props4.touch,\n        prevIcon = _this$props4.prevIcon,\n        prevLabel = _this$props4.prevLabel,\n        nextIcon = _this$props4.nextIcon,\n        nextLabel = _this$props4.nextLabel,\n        className = _this$props4.className,\n        children = _this$props4.children,\n        keyboard = _this$props4.keyboard,\n        _5 = _this$props4.activeIndex,\n        _4 = _this$props4.pauseOnHover,\n        _3 = _this$props4.interval,\n        _2 = _this$props4.onSelect,\n        _1 = _this$props4.onSlideEnd,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"as\", \"bsPrefix\", \"slide\", \"fade\", \"indicators\", \"controls\", \"wrap\", \"touch\", \"prevIcon\", \"prevLabel\", \"nextIcon\", \"nextLabel\", \"className\", \"children\", \"keyboard\", \"activeIndex\", \"pauseOnHover\", \"interval\", \"onSelect\", \"onSlideEnd\"]);\n\n    var _this$state2 = this.state,\n        activeIndex = _this$state2.activeIndex,\n        previousActiveIndex = _this$state2.previousActiveIndex,\n        prevClasses = _this$state2.prevClasses,\n        currentClasses = _this$state2.currentClasses;\n    return (// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      React.createElement(Component, _extends({\n        onTouchStart: touch ? this.handleTouchStart : undefined,\n        onTouchEnd: touch ? this.handleTouchEnd : undefined\n      }, props, {\n        className: classNames(className, bsPrefix, slide && 'slide', fade && bsPrefix + \"-fade\"),\n        onKeyDown: keyboard ? this.handleKeyDown : undefined,\n        onMouseOver: this.handleMouseOver,\n        onMouseOut: this.handleMouseOut\n      }), indicators && this.renderIndicators(children, activeIndex), React.createElement(\"div\", {\n        className: bsPrefix + \"-inner\",\n        ref: this.carousel\n      }, map(children, function (child, index) {\n        var current = index === activeIndex;\n        var previous = index === previousActiveIndex;\n        return cloneElement(child, {\n          className: classNames(child.props.className, current && currentClasses, previous && prevClasses)\n        });\n      })), controls && this.renderControls({\n        wrap: wrap,\n        children: children,\n        activeIndex: activeIndex,\n        prevIcon: prevIcon,\n        prevLabel: prevLabel,\n        nextIcon: nextIcon,\n        nextLabel: nextLabel\n      }))\n    );\n  };\n\n  return Carousel;\n}(React.Component);\n\nCarousel.defaultProps = defaultProps;\nvar DecoratedCarousel = createBootstrapComponent(uncontrollable(Carousel, {\n  activeIndex: 'onSelect'\n}), 'carousel');\nDecoratedCarousel.Caption = CarouselCaption;\nDecoratedCarousel.Item = CarouselItem;\nexport default DecoratedCarousel;","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/react-bootstrap/esm/Carousel.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","classNames","styles","transitionEnd","React","cloneElement","uncontrollable","CarouselCaption","CarouselItem","forEach","map","SafeAnchor","createBootstrapComponent","triggerBrowserReflow","countChildren","c","Children","toArray","filter","isValidElement","length","SWIPE_THRESHOLD","defaultProps","slide","fade","interval","keyboard","pauseOnHover","wrap","indicators","controls","activeIndex","prevIcon","createElement","className","prevLabel","nextIcon","nextLabel","touch","Carousel","_React$Component","_this","_len","arguments","args","Array","_key","call","apply","concat","state","prevClasses","currentClasses","touchStartX","isUnmounted","carousel","createRef","handleTouchStart","e","setState","changedTouches","screenX","handleTouchEnd","Math","abs","handleNext","handlePrev","handleSlideEnd","pendingIndex","_pendingIndex","_isSliding","to","cycle","handleMouseOut","handleMouseOver","props","pause","handleKeyDown","event","test","target","tagName","key","preventDefault","handleNextWhenVisible","document","hidden","current","_this$props","index","count","children","select","_this$props2","_proto","prototype","componentDidMount","getDerivedStateFromProps","nextProps","_ref","previousActiveIndex","lastPossibleIndex","nextIndex","max","min","direction","componentDidUpdate","_","prevState","_this2","_this$props3","bsPrefix","onSlideEnd","_this$state","orderClassName","directionalClassName","safeSetState","items","nextElement","componentWillUnmount","clearTimeout","timeout","cb","_this3","_isPaused","clearInterval","_interval","setInterval","visibilityState","_this4","selectThrottle","persist","setTimeout","_this4$props","onSelect","renderControls","properties","onClick","renderIndicators","_this5","child","push","render","_this$props4","_this$props4$as","as","Component","_5","_4","_3","_2","_1","_this$state2","onTouchStart","undefined","onTouchEnd","onKeyDown","onMouseOver","onMouseOut","ref","previous","DecoratedCarousel","Caption","Item"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport styles from 'dom-helpers/css';\nimport transitionEnd from 'dom-helpers/transitionEnd';\nimport React, { cloneElement } from 'react';\nimport { uncontrollable } from 'uncontrollable';\nimport CarouselCaption from './CarouselCaption';\nimport CarouselItem from './CarouselItem';\nimport { forEach, map } from './ElementChildren';\nimport SafeAnchor from './SafeAnchor';\nimport { createBootstrapComponent } from './ThemeProvider';\nimport triggerBrowserReflow from './triggerBrowserReflow';\n\nvar countChildren = function countChildren(c) {\n  return React.Children.toArray(c).filter(React.isValidElement).length;\n};\n\nvar SWIPE_THRESHOLD = 40; // TODO: `slide` should be `animate`.\n\nvar defaultProps = {\n  slide: true,\n  fade: false,\n  interval: 5000,\n  keyboard: true,\n  pauseOnHover: true,\n  wrap: true,\n  indicators: true,\n  controls: true,\n  activeIndex: 0,\n  prevIcon: React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-prev-icon\"\n  }),\n  prevLabel: 'Previous',\n  nextIcon: React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-next-icon\"\n  }),\n  nextLabel: 'Next',\n  touch: true\n};\n\nvar Carousel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Carousel, _React$Component);\n\n  function Carousel() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      prevClasses: '',\n      currentClasses: 'active',\n      touchStartX: 0\n    };\n    _this.isUnmounted = false;\n    _this.carousel = React.createRef();\n\n    _this.handleTouchStart = function (e) {\n      _this.setState({\n        touchStartX: e.changedTouches[0].screenX\n      });\n    };\n\n    _this.handleTouchEnd = function (e) {\n      // If the swipe is under the threshold, don't do anything.\n      if (Math.abs(e.changedTouches[0].screenX - _this.state.touchStartX) < SWIPE_THRESHOLD) return;\n\n      if (e.changedTouches[0].screenX < _this.state.touchStartX) {\n        // Swiping left to navigate to next item.\n        _this.handleNext(e);\n      } else {\n        // Swiping right to navigate to previous item.\n        _this.handlePrev(e);\n      }\n    };\n\n    _this.handleSlideEnd = function () {\n      var pendingIndex = _this._pendingIndex;\n      _this._isSliding = false;\n      _this._pendingIndex = null;\n      if (pendingIndex != null) _this.to(pendingIndex);else _this.cycle();\n    };\n\n    _this.handleMouseOut = function () {\n      _this.cycle();\n    };\n\n    _this.handleMouseOver = function () {\n      if (_this.props.pauseOnHover) _this.pause();\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (/input|textarea/i.test(event.target.tagName)) return;\n\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n\n          _this.handlePrev(event);\n\n          break;\n\n        case 'ArrowRight':\n          event.preventDefault();\n\n          _this.handleNext(event);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.handleNextWhenVisible = function () {\n      if (!_this.isUnmounted && !document.hidden && styles(_this.carousel.current, 'visibility') !== 'hidden') {\n        _this.handleNext();\n      }\n    };\n\n    _this.handleNext = function (e) {\n      if (_this._isSliding) return;\n      var _this$props = _this.props,\n          wrap = _this$props.wrap,\n          activeIndex = _this$props.activeIndex;\n      var index = activeIndex + 1;\n      var count = countChildren(_this.props.children);\n\n      if (index > count - 1) {\n        if (!wrap) return;\n        index = 0;\n      }\n\n      _this.select(index, e, 'next');\n    };\n\n    _this.handlePrev = function (e) {\n      if (_this._isSliding) return;\n      var _this$props2 = _this.props,\n          wrap = _this$props2.wrap,\n          activeIndex = _this$props2.activeIndex;\n      var index = activeIndex - 1;\n\n      if (index < 0) {\n        if (!wrap) return;\n        index = countChildren(_this.props.children) - 1;\n      }\n\n      _this.select(index, e, 'prev');\n    };\n\n    return _this;\n  }\n\n  var _proto = Carousel.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.cycle();\n  };\n\n  Carousel.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var previousActiveIndex = _ref.activeIndex;\n\n    if (nextProps.activeIndex !== previousActiveIndex) {\n      var lastPossibleIndex = countChildren(nextProps.children) - 1;\n      var nextIndex = Math.max(0, Math.min(nextProps.activeIndex, lastPossibleIndex));\n      var direction;\n\n      if (nextIndex === 0 && previousActiveIndex >= lastPossibleIndex || previousActiveIndex <= nextIndex) {\n        direction = 'next';\n      } else {\n        direction = 'prev';\n      }\n\n      return {\n        direction: direction,\n        previousActiveIndex: previousActiveIndex,\n        activeIndex: nextIndex\n      };\n    }\n\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        bsPrefix = _this$props3.bsPrefix,\n        slide = _this$props3.slide,\n        onSlideEnd = _this$props3.onSlideEnd;\n    if (!slide || this.state.activeIndex === prevState.activeIndex || this._isSliding) return;\n    var _this$state = this.state,\n        activeIndex = _this$state.activeIndex,\n        direction = _this$state.direction;\n    var orderClassName, directionalClassName;\n\n    if (direction === 'next') {\n      orderClassName = bsPrefix + \"-item-next\";\n      directionalClassName = bsPrefix + \"-item-left\";\n    } else if (direction === 'prev') {\n      orderClassName = bsPrefix + \"-item-prev\";\n      directionalClassName = bsPrefix + \"-item-right\";\n    }\n\n    this._isSliding = true;\n    this.pause(); // eslint-disable-next-line react/no-did-update-set-state\n\n    this.safeSetState({\n      prevClasses: 'active',\n      currentClasses: orderClassName\n    }, function () {\n      var items = _this2.carousel.current.children;\n      var nextElement = items[activeIndex];\n      triggerBrowserReflow(nextElement);\n\n      _this2.safeSetState({\n        prevClasses: classNames('active', directionalClassName),\n        currentClasses: classNames(orderClassName, directionalClassName)\n      }, function () {\n        return transitionEnd(nextElement, function () {\n          _this2.safeSetState({\n            prevClasses: '',\n            currentClasses: 'active'\n          }, _this2.handleSlideEnd);\n\n          if (onSlideEnd) {\n            onSlideEnd();\n          }\n        });\n      });\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.timeout);\n    this.isUnmounted = true;\n  };\n\n  _proto.safeSetState = function safeSetState(state, cb) {\n    var _this3 = this;\n\n    if (this.isUnmounted) return;\n    this.setState(state, function () {\n      return !_this3.isUnmounted && cb();\n    });\n  } // This might be a public API.\n  ;\n\n  _proto.pause = function pause() {\n    this._isPaused = true;\n    clearInterval(this._interval);\n    this._interval = null;\n  };\n\n  _proto.cycle = function cycle() {\n    this._isPaused = false;\n    clearInterval(this._interval);\n    this._interval = null;\n\n    if (this.props.interval && !this._isPaused) {\n      this._interval = setInterval(document.visibilityState ? this.handleNextWhenVisible : this.handleNext, this.props.interval);\n    }\n  };\n\n  _proto.to = function to(index, event) {\n    var children = this.props.children;\n\n    if (index < 0 || index > countChildren(children) - 1) {\n      return;\n    }\n\n    if (this._isSliding) {\n      this._pendingIndex = index;\n      return;\n    }\n\n    this.select(index, event);\n  };\n\n  _proto.select = function select(index, event, direction) {\n    var _this4 = this;\n\n    clearTimeout(this.selectThrottle);\n    if (event && event.persist) event.persist(); // The timeout throttles fast clicks, in order to give any pending state\n    // a chance to update and propagate back through props\n\n    this.selectThrottle = setTimeout(function () {\n      clearTimeout(_this4.timeout);\n      var _this4$props = _this4.props,\n          activeIndex = _this4$props.activeIndex,\n          onSelect = _this4$props.onSelect;\n      if (index === activeIndex || _this4._isSliding || _this4.isUnmounted) return;\n      onSelect(index, direction || (index < activeIndex ? 'prev' : 'next'), event);\n    }, 50);\n  };\n\n  _proto.renderControls = function renderControls(properties) {\n    var bsPrefix = this.props.bsPrefix;\n    var wrap = properties.wrap,\n        children = properties.children,\n        activeIndex = properties.activeIndex,\n        prevIcon = properties.prevIcon,\n        nextIcon = properties.nextIcon,\n        prevLabel = properties.prevLabel,\n        nextLabel = properties.nextLabel;\n    var count = countChildren(children);\n    return [(wrap || activeIndex !== 0) && React.createElement(SafeAnchor, {\n      key: \"prev\",\n      className: bsPrefix + \"-control-prev\",\n      onClick: this.handlePrev\n    }, prevIcon, prevLabel && React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, prevLabel)), (wrap || activeIndex !== count - 1) && React.createElement(SafeAnchor, {\n      key: \"next\",\n      className: bsPrefix + \"-control-next\",\n      onClick: this.handleNext\n    }, nextIcon, nextLabel && React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, nextLabel))];\n  };\n\n  _proto.renderIndicators = function renderIndicators(children, activeIndex) {\n    var _this5 = this;\n\n    var bsPrefix = this.props.bsPrefix;\n    var indicators = [];\n    forEach(children, function (child, index) {\n      indicators.push(React.createElement(\"li\", {\n        key: index,\n        className: index === activeIndex ? 'active' : null,\n        onClick: function onClick(e) {\n          return _this5.to(index, e);\n        }\n      }), // Force whitespace between indicator elements. Bootstrap requires\n      // this for correct spacing of elements.\n      ' ');\n    });\n    return React.createElement(\"ol\", {\n      className: bsPrefix + \"-indicators\"\n    }, indicators);\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        _this$props4$as = _this$props4.as,\n        Component = _this$props4$as === void 0 ? 'div' : _this$props4$as,\n        bsPrefix = _this$props4.bsPrefix,\n        slide = _this$props4.slide,\n        fade = _this$props4.fade,\n        indicators = _this$props4.indicators,\n        controls = _this$props4.controls,\n        wrap = _this$props4.wrap,\n        touch = _this$props4.touch,\n        prevIcon = _this$props4.prevIcon,\n        prevLabel = _this$props4.prevLabel,\n        nextIcon = _this$props4.nextIcon,\n        nextLabel = _this$props4.nextLabel,\n        className = _this$props4.className,\n        children = _this$props4.children,\n        keyboard = _this$props4.keyboard,\n        _5 = _this$props4.activeIndex,\n        _4 = _this$props4.pauseOnHover,\n        _3 = _this$props4.interval,\n        _2 = _this$props4.onSelect,\n        _1 = _this$props4.onSlideEnd,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"as\", \"bsPrefix\", \"slide\", \"fade\", \"indicators\", \"controls\", \"wrap\", \"touch\", \"prevIcon\", \"prevLabel\", \"nextIcon\", \"nextLabel\", \"className\", \"children\", \"keyboard\", \"activeIndex\", \"pauseOnHover\", \"interval\", \"onSelect\", \"onSlideEnd\"]);\n\n    var _this$state2 = this.state,\n        activeIndex = _this$state2.activeIndex,\n        previousActiveIndex = _this$state2.previousActiveIndex,\n        prevClasses = _this$state2.prevClasses,\n        currentClasses = _this$state2.currentClasses;\n    return (// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      React.createElement(Component, _extends({\n        onTouchStart: touch ? this.handleTouchStart : undefined,\n        onTouchEnd: touch ? this.handleTouchEnd : undefined\n      }, props, {\n        className: classNames(className, bsPrefix, slide && 'slide', fade && bsPrefix + \"-fade\"),\n        onKeyDown: keyboard ? this.handleKeyDown : undefined,\n        onMouseOver: this.handleMouseOver,\n        onMouseOut: this.handleMouseOut\n      }), indicators && this.renderIndicators(children, activeIndex), React.createElement(\"div\", {\n        className: bsPrefix + \"-inner\",\n        ref: this.carousel\n      }, map(children, function (child, index) {\n        var current = index === activeIndex;\n        var previous = index === previousActiveIndex;\n        return cloneElement(child, {\n          className: classNames(child.props.className, current && currentClasses, previous && prevClasses)\n        });\n      })), controls && this.renderControls({\n        wrap: wrap,\n        children: children,\n        activeIndex: activeIndex,\n        prevIcon: prevIcon,\n        prevLabel: prevLabel,\n        nextIcon: nextIcon,\n        nextLabel: nextLabel\n      }))\n    );\n  };\n\n  return Carousel;\n}(React.Component);\n\nCarousel.defaultProps = defaultProps;\nvar DecoratedCarousel = createBootstrapComponent(uncontrollable(Carousel, {\n  activeIndex: 'onSelect'\n}), 'carousel');\nDecoratedCarousel.Caption = CarouselCaption;\nDecoratedCarousel.Item = CarouselItem;\nexport default DecoratedCarousel;"]},"metadata":{},"sourceType":"module"}