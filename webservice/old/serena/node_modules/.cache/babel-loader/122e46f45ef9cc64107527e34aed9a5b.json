{"ast":null,"code":"'use strict';\n\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/babel-polyfill\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = os.homedir();\n\nmodule.exports = (stack, options) => {\n  options = Object.assign({\n    pretty: false\n  }, options);\n  return stack.replace(/\\\\/g, '/').split('\\n').filter(x => {\n    const pathMatches = x.match(extractPathRegex);\n\n    if (pathMatches === null || !pathMatches[1]) {\n      return true;\n    }\n\n    const match = pathMatches[1]; // Electron\n\n    if (match.includes('.app/Contents/Resources/electron.asar') || match.includes('.app/Contents/Resources/default_app.asar')) {\n      return false;\n    }\n\n    return !pathRegex.test(match);\n  }).filter(x => x.trim() !== '').map(x => {\n    if (options.pretty) {\n      return x.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n    }\n\n    return x;\n  }).join('\\n');\n};","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/p-some/node_modules/clean-stack/index.js"],"names":["os","require","extractPathRegex","pathRegex","homeDir","homedir","module","exports","stack","options","Object","assign","pretty","replace","split","filter","x","pathMatches","match","includes","test","trim","map","m","p1","join"],"mappings":"AAAA;;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAMC,gBAAgB,GAAG,yBAAzB;AACA,MAAMC,SAAS,GAAG,kGAAlB;AACA,MAAMC,OAAO,GAAGJ,EAAE,CAACK,OAAH,EAAhB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACpCA,EAAAA,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;AAACC,IAAAA,MAAM,EAAE;AAAT,GAAd,EAA+BH,OAA/B,CAAV;AAEA,SAAOD,KAAK,CAACK,OAAN,CAAc,KAAd,EAAqB,GAArB,EACLC,KADK,CACC,IADD,EAELC,MAFK,CAEEC,CAAC,IAAI;AACZ,UAAMC,WAAW,GAAGD,CAAC,CAACE,KAAF,CAAQhB,gBAAR,CAApB;;AACA,QAAIe,WAAW,KAAK,IAAhB,IAAwB,CAACA,WAAW,CAAC,CAAD,CAAxC,EAA6C;AAC5C,aAAO,IAAP;AACA;;AAED,UAAMC,KAAK,GAAGD,WAAW,CAAC,CAAD,CAAzB,CANY,CAQZ;;AACA,QAAIC,KAAK,CAACC,QAAN,CAAe,uCAAf,KACHD,KAAK,CAACC,QAAN,CAAe,0CAAf,CADD,EAC6D;AAC5D,aAAO,KAAP;AACA;;AAED,WAAO,CAAChB,SAAS,CAACiB,IAAV,CAAeF,KAAf,CAAR;AACA,GAjBK,EAkBLH,MAlBK,CAkBEC,CAAC,IAAIA,CAAC,CAACK,IAAF,OAAa,EAlBpB,EAmBLC,GAnBK,CAmBDN,CAAC,IAAI;AACT,QAAIP,OAAO,CAACG,MAAZ,EAAoB;AACnB,aAAOI,CAAC,CAACH,OAAF,CAAUX,gBAAV,EAA4B,CAACqB,CAAD,EAAIC,EAAJ,KAAWD,CAAC,CAACV,OAAF,CAAUW,EAAV,EAAcA,EAAE,CAACX,OAAH,CAAWT,OAAX,EAAoB,GAApB,CAAd,CAAvC,CAAP;AACA;;AAED,WAAOY,CAAP;AACA,GAzBK,EA0BLS,IA1BK,CA0BA,IA1BA,CAAP;AA2BA,CA9BD","sourcesContent":["'use strict';\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/babel-polyfill\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = os.homedir();\n\nmodule.exports = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(x => {\n\t\t\tconst pathMatches = x.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (match.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(x => x.trim() !== '')\n\t\t.map(x => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn x.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn x;\n\t\t})\n\t\t.join('\\n');\n};\n"]},"metadata":{},"sourceType":"script"}