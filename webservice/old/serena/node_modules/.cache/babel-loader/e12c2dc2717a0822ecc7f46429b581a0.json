{"ast":null,"code":"'use strict';\n\nvar utils = require('./utils');\n\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\n\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending) this.pending = msg;else this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length; // Enough data, try updating\n\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending; // Process pending data in blocks\n\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0) this.pending = null;\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n\n    for (var i = 0; i < msg.length; i += this._delta32) this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - (len + this.padLength) % bytes;\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n\n  for (var i = 1; i < k; i++) res[i] = 0; // Append length\n\n\n  len <<= 3;\n\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++) res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = len >>> 24 & 0xff;\n    res[i++] = len >>> 16 & 0xff;\n    res[i++] = len >>> 8 & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = len >>> 8 & 0xff;\n    res[i++] = len >>> 16 & 0xff;\n    res[i++] = len >>> 24 & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++) res[i++] = 0;\n  }\n\n  return res;\n};","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/hash.js/lib/hash/common.js"],"names":["utils","require","assert","BlockHash","pending","pendingTotal","blockSize","constructor","outSize","hmacStrength","padLength","endian","_delta8","_delta32","exports","prototype","update","msg","enc","toArray","concat","length","r","slice","join32","i","_update","digest","_pad","_digest","pad","len","bytes","k","res","Array","t"],"mappings":"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","sourcesContent":["'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n"]},"metadata":{},"sourceType":"script"}