{"ast":null,"code":"import canUseDOM from './canUseDOM';\nimport css from './css';\nimport listen from './listen';\nexport var TRANSITION_SUPPORTED = canUseDOM && 'ontransitionend' in window;\nexport function parseDuration(node) {\n  var str = css(node, 'transitionDuration') || '';\n  var mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nfunction triggerTransitionEnd(element) {\n  var evt = document.createEvent('HTMLEvents');\n  evt.initEvent('transitionend', true, true);\n  element.dispatchEvent(evt);\n}\n\nexport function emulateTransitionEnd(element, duration, padding) {\n  if (padding === void 0) {\n    padding = 5;\n  }\n\n  var called = false;\n  var handle = setTimeout(function () {\n    if (!called) triggerTransitionEnd(element);\n  }, duration + padding);\n  var remove = listen(element, 'transitionend', function () {\n    called = true;\n  }, {\n    once: true\n  });\n  return function () {\n    clearTimeout(handle);\n    remove();\n  };\n}\n\nfunction transitionEnd(element, handler, duration) {\n  if (!TRANSITION_SUPPORTED) {\n    return emulateTransitionEnd(element, 0, 0);\n  }\n\n  if (duration == null) duration = parseDuration(element) || 0;\n  emulateTransitionEnd(element, duration);\n  return listen(element, 'transitionend', handler);\n}\n\nexport default transitionEnd;","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/dom-helpers/esm/transitionEnd.js"],"names":["canUseDOM","css","listen","TRANSITION_SUPPORTED","window","parseDuration","node","str","mult","indexOf","parseFloat","triggerTransitionEnd","element","evt","document","createEvent","initEvent","dispatchEvent","emulateTransitionEnd","duration","padding","called","handle","setTimeout","remove","once","clearTimeout","transitionEnd","handler"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,IAAIC,oBAAoB,GAAGH,SAAS,IAAI,qBAAqBI,MAA7D;AACP,OAAO,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAClC,MAAIC,GAAG,GAAGN,GAAG,CAACK,IAAD,EAAO,oBAAP,CAAH,IAAmC,EAA7C;AACA,MAAIE,IAAI,GAAGD,GAAG,CAACE,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAAvB,GAA2B,IAA3B,GAAkC,CAA7C;AACA,SAAOC,UAAU,CAACH,GAAD,CAAV,GAAkBC,IAAzB;AACD;;AAED,SAASG,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,MAAIC,GAAG,GAAGC,QAAQ,CAACC,WAAT,CAAqB,YAArB,CAAV;AACAF,EAAAA,GAAG,CAACG,SAAJ,CAAc,eAAd,EAA+B,IAA/B,EAAqC,IAArC;AACAJ,EAAAA,OAAO,CAACK,aAAR,CAAsBJ,GAAtB;AACD;;AAED,OAAO,SAASK,oBAAT,CAA8BN,OAA9B,EAAuCO,QAAvC,EAAiDC,OAAjD,EAA0D;AAC/D,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,IAAAA,OAAO,GAAG,CAAV;AACD;;AAED,MAAIC,MAAM,GAAG,KAAb;AACA,MAAIC,MAAM,GAAGC,UAAU,CAAC,YAAY;AAClC,QAAI,CAACF,MAAL,EAAaV,oBAAoB,CAACC,OAAD,CAApB;AACd,GAFsB,EAEpBO,QAAQ,GAAGC,OAFS,CAAvB;AAGA,MAAII,MAAM,GAAGtB,MAAM,CAACU,OAAD,EAAU,eAAV,EAA2B,YAAY;AACxDS,IAAAA,MAAM,GAAG,IAAT;AACD,GAFkB,EAEhB;AACDI,IAAAA,IAAI,EAAE;AADL,GAFgB,CAAnB;AAKA,SAAO,YAAY;AACjBC,IAAAA,YAAY,CAACJ,MAAD,CAAZ;AACAE,IAAAA,MAAM;AACP,GAHD;AAID;;AAED,SAASG,aAAT,CAAuBf,OAAvB,EAAgCgB,OAAhC,EAAyCT,QAAzC,EAAmD;AACjD,MAAI,CAAChB,oBAAL,EAA2B;AACzB,WAAOe,oBAAoB,CAACN,OAAD,EAAU,CAAV,EAAa,CAAb,CAA3B;AACD;;AAED,MAAIO,QAAQ,IAAI,IAAhB,EAAsBA,QAAQ,GAAGd,aAAa,CAACO,OAAD,CAAb,IAA0B,CAArC;AACtBM,EAAAA,oBAAoB,CAACN,OAAD,EAAUO,QAAV,CAApB;AACA,SAAOjB,MAAM,CAACU,OAAD,EAAU,eAAV,EAA2BgB,OAA3B,CAAb;AACD;;AAED,eAAeD,aAAf","sourcesContent":["import canUseDOM from './canUseDOM';\nimport css from './css';\nimport listen from './listen';\nexport var TRANSITION_SUPPORTED = canUseDOM && 'ontransitionend' in window;\nexport function parseDuration(node) {\n  var str = css(node, 'transitionDuration') || '';\n  var mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nfunction triggerTransitionEnd(element) {\n  var evt = document.createEvent('HTMLEvents');\n  evt.initEvent('transitionend', true, true);\n  element.dispatchEvent(evt);\n}\n\nexport function emulateTransitionEnd(element, duration, padding) {\n  if (padding === void 0) {\n    padding = 5;\n  }\n\n  var called = false;\n  var handle = setTimeout(function () {\n    if (!called) triggerTransitionEnd(element);\n  }, duration + padding);\n  var remove = listen(element, 'transitionend', function () {\n    called = true;\n  }, {\n    once: true\n  });\n  return function () {\n    clearTimeout(handle);\n    remove();\n  };\n}\n\nfunction transitionEnd(element, handler, duration) {\n  if (!TRANSITION_SUPPORTED) {\n    return emulateTransitionEnd(element, 0, 0);\n  }\n\n  if (duration == null) duration = parseDuration(element) || 0;\n  emulateTransitionEnd(element, duration);\n  return listen(element, 'transitionend', handler);\n}\n\nexport default transitionEnd;"]},"metadata":{},"sourceType":"module"}