{"ast":null,"code":"var Ajv = require('ajv');\n\nvar HARError = require('./error');\n\nvar schemas = require('har-schema');\n\nvar ajv;\n\nfunction createAjvInstance() {\n  var ajv = new Ajv({\n    allErrors: true\n  });\n  ajv.addMetaSchema(require('ajv/lib/refs/json-schema-draft-06.json'));\n  ajv.addSchema(schemas);\n  return ajv;\n}\n\nfunction validate(name, data) {\n  data = data || {}; // validator config\n\n  ajv = ajv || createAjvInstance();\n  var validate = ajv.getSchema(name + '.json');\n  return new Promise(function (resolve, reject) {\n    var valid = validate(data);\n    !valid ? reject(new HARError(validate.errors)) : resolve(data);\n  });\n}\n\nexports.afterRequest = function (data) {\n  return validate('afterRequest', data);\n};\n\nexports.beforeRequest = function (data) {\n  return validate('beforeRequest', data);\n};\n\nexports.browser = function (data) {\n  return validate('browser', data);\n};\n\nexports.cache = function (data) {\n  return validate('cache', data);\n};\n\nexports.content = function (data) {\n  return validate('content', data);\n};\n\nexports.cookie = function (data) {\n  return validate('cookie', data);\n};\n\nexports.creator = function (data) {\n  return validate('creator', data);\n};\n\nexports.entry = function (data) {\n  return validate('entry', data);\n};\n\nexports.har = function (data) {\n  return validate('har', data);\n};\n\nexports.header = function (data) {\n  return validate('header', data);\n};\n\nexports.log = function (data) {\n  return validate('log', data);\n};\n\nexports.page = function (data) {\n  return validate('page', data);\n};\n\nexports.pageTimings = function (data) {\n  return validate('pageTimings', data);\n};\n\nexports.postData = function (data) {\n  return validate('postData', data);\n};\n\nexports.query = function (data) {\n  return validate('query', data);\n};\n\nexports.request = function (data) {\n  return validate('request', data);\n};\n\nexports.response = function (data) {\n  return validate('response', data);\n};\n\nexports.timings = function (data) {\n  return validate('timings', data);\n};","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/har-validator/lib/promise.js"],"names":["Ajv","require","HARError","schemas","ajv","createAjvInstance","allErrors","addMetaSchema","addSchema","validate","name","data","getSchema","Promise","resolve","reject","valid","errors","exports","afterRequest","beforeRequest","browser","cache","content","cookie","creator","entry","har","header","log","page","pageTimings","postData","query","request","response","timings"],"mappings":"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","sourcesContent":["var Ajv = require('ajv')\nvar HARError = require('./error')\nvar schemas = require('har-schema')\n\nvar ajv\n\nfunction createAjvInstance () {\n  var ajv = new Ajv({\n    allErrors: true\n  })\n  ajv.addMetaSchema(require('ajv/lib/refs/json-schema-draft-06.json'))\n  ajv.addSchema(schemas)\n\n  return ajv\n}\n\nfunction validate (name, data) {\n  data = data || {}\n\n  // validator config\n  ajv = ajv || createAjvInstance()\n\n  var validate = ajv.getSchema(name + '.json')\n\n  return new Promise(function (resolve, reject) {\n    var valid = validate(data)\n\n    !valid ? reject(new HARError(validate.errors)) : resolve(data)\n  })\n}\n\nexports.afterRequest = function (data) {\n  return validate('afterRequest', data)\n}\n\nexports.beforeRequest = function (data) {\n  return validate('beforeRequest', data)\n}\n\nexports.browser = function (data) {\n  return validate('browser', data)\n}\n\nexports.cache = function (data) {\n  return validate('cache', data)\n}\n\nexports.content = function (data) {\n  return validate('content', data)\n}\n\nexports.cookie = function (data) {\n  return validate('cookie', data)\n}\n\nexports.creator = function (data) {\n  return validate('creator', data)\n}\n\nexports.entry = function (data) {\n  return validate('entry', data)\n}\n\nexports.har = function (data) {\n  return validate('har', data)\n}\n\nexports.header = function (data) {\n  return validate('header', data)\n}\n\nexports.log = function (data) {\n  return validate('log', data)\n}\n\nexports.page = function (data) {\n  return validate('page', data)\n}\n\nexports.pageTimings = function (data) {\n  return validate('pageTimings', data)\n}\n\nexports.postData = function (data) {\n  return validate('postData', data)\n}\n\nexports.query = function (data) {\n  return validate('query', data)\n}\n\nexports.request = function (data) {\n  return validate('request', data)\n}\n\nexports.response = function (data) {\n  return validate('response', data)\n}\n\nexports.timings = function (data) {\n  return validate('timings', data)\n}\n"]},"metadata":{},"sourceType":"script"}