{"ast":null,"code":"var xor = require('buffer-xor');\n\nfunction getBlock(self) {\n  self._prev = self._cipher.encryptBlock(self._prev);\n  return self._prev;\n}\n\nexports.encrypt = function (self, chunk) {\n  while (self._cache.length < chunk.length) {\n    self._cache = Buffer.concat([self._cache, getBlock(self)]);\n  }\n\n  var pad = self._cache.slice(0, chunk.length);\n\n  self._cache = self._cache.slice(chunk.length);\n  return xor(chunk, pad);\n};","map":{"version":3,"sources":["/home/s41m0n/Documents/University/Turin/YearII/CrownLabs/frontend/node_modules/browserify-aes/modes/ofb.js"],"names":["xor","require","getBlock","self","_prev","_cipher","encryptBlock","exports","encrypt","chunk","_cache","length","Buffer","concat","pad","slice"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,YAAD,CAAjB;;AAEA,SAASC,QAAT,CAAmBC,IAAnB,EAAyB;AACvBA,EAAAA,IAAI,CAACC,KAAL,GAAaD,IAAI,CAACE,OAAL,CAAaC,YAAb,CAA0BH,IAAI,CAACC,KAA/B,CAAb;AACA,SAAOD,IAAI,CAACC,KAAZ;AACD;;AAEDG,OAAO,CAACC,OAAR,GAAkB,UAAUL,IAAV,EAAgBM,KAAhB,EAAuB;AACvC,SAAON,IAAI,CAACO,MAAL,CAAYC,MAAZ,GAAqBF,KAAK,CAACE,MAAlC,EAA0C;AACxCR,IAAAA,IAAI,CAACO,MAAL,GAAcE,MAAM,CAACC,MAAP,CAAc,CAACV,IAAI,CAACO,MAAN,EAAcR,QAAQ,CAACC,IAAD,CAAtB,CAAd,CAAd;AACD;;AAED,MAAIW,GAAG,GAAGX,IAAI,CAACO,MAAL,CAAYK,KAAZ,CAAkB,CAAlB,EAAqBN,KAAK,CAACE,MAA3B,CAAV;;AACAR,EAAAA,IAAI,CAACO,MAAL,GAAcP,IAAI,CAACO,MAAL,CAAYK,KAAZ,CAAkBN,KAAK,CAACE,MAAxB,CAAd;AACA,SAAOX,GAAG,CAACS,KAAD,EAAQK,GAAR,CAAV;AACD,CARD","sourcesContent":["var xor = require('buffer-xor')\n\nfunction getBlock (self) {\n  self._prev = self._cipher.encryptBlock(self._prev)\n  return self._prev\n}\n\nexports.encrypt = function (self, chunk) {\n  while (self._cache.length < chunk.length) {\n    self._cache = Buffer.concat([self._cache, getBlock(self)])\n  }\n\n  var pad = self._cache.slice(0, chunk.length)\n  self._cache = self._cache.slice(chunk.length)\n  return xor(chunk, pad)\n}\n"]},"metadata":{},"sourceType":"script"}